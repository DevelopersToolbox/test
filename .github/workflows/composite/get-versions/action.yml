name: 'Versions'
description: 'Get Versions'

inputs:
  os:
    description: “The os name”
    required: true

#              if [ -z "${{ inputs.test }}" ]
#              then
#                echo -e "test exist: ${{ inputs.test }}"
#                "${{ inputs.test }}"
#              else
#                echo -e "\nno test specified"
#              fi

outputs:
  versions:
    description: "Versions"
    value: ${{steps.get-versions.outputs.versions}}

runs:
  using: "composite"
  steps:
    - name: Get ${{ inputs.os }} versions
      id: get-versions
      run: echo "::set-output name=versions::$(ls -d Dockerfiles/${{ inputs.os }}/*/ | cut -f3 -d'/' | sort -n | jq -cnR '[inputs | select(length>0)]'))"
      shell: bash
